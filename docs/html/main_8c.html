<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Talking Clock: main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Talking Clock
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Talking clock for Cypress PSoC Analog Coprocessor kit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="custom__assert_8h_source.html">custom_assert.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="iprintf_8h_source.html">iprintf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lpc__synth_8h_source.html">lpc_synth.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="custom__synth_8h_source.html">custom_synth.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="temperature_8h_source.html">temperature.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a81fe64b262200badbc8b395e6aea32b4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a81fe64b262200badbc8b395e6aea32b4">uart_output_time</a> (RTC_DATE_TIME dateTime)</td></tr>
<tr class="memdesc:a81fe64b262200badbc8b395e6aea32b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output current RTC time to UART.  <a href="#a81fe64b262200badbc8b395e6aea32b4">More...</a><br /></td></tr>
<tr class="separator:a81fe64b262200badbc8b395e6aea32b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb05e94a4106037472adc26dec9fc1d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aebb05e94a4106037472adc26dec9fc1d">uart_output_temperature</a> (int16_t temperature)</td></tr>
<tr class="memdesc:aebb05e94a4106037472adc26dec9fc1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output current temperature to UART.  <a href="#aebb05e94a4106037472adc26dec9fc1d">More...</a><br /></td></tr>
<tr class="separator:aebb05e94a4106037472adc26dec9fc1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef6f572be0d7fc6cef3996442d3f41e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a7ef6f572be0d7fc6cef3996442d3f41e">uart_edit_time</a> (RTC_DATE_TIME dateTime)</td></tr>
<tr class="memdesc:a7ef6f572be0d7fc6cef3996442d3f41e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interactive RTC time editor using UART.  <a href="#a7ef6f572be0d7fc6cef3996442d3f41e">More...</a><br /></td></tr>
<tr class="separator:a7ef6f572be0d7fc6cef3996442d3f41e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application entry point.  <a href="#a840291bc02cba5474a4cb46a9b9566fe">More...</a><br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a61401e9c83852da36a32215af1eb6c55"><td class="memItemLeft" align="right" valign="top"><a id="a61401e9c83852da36a32215af1eb6c55"></a>
static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a61401e9c83852da36a32215af1eb6c55">g_rx_char</a></td></tr>
<tr class="memdesc:a61401e9c83852da36a32215af1eb6c55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single character received from UART. <br /></td></tr>
<tr class="separator:a61401e9c83852da36a32215af1eb6c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section version"><dt>Version</dt><dd>1.0.0 </dd></dl>
<dl class="section author"><dt>Authors</dt><dd>Jaroslav Groman</dd></dl>
<dl class="section user"><dt>Project Name</dt><dd>Touch Activated Talking Clock with Thermometer</dd></dl>
<dl class="section user"><dt>Description</dt><dd>This project demonstrates usage of various capabilities of Cypress PSoC Analog Coprocessor, namely CapSense, real time clock, thermal measurement and UART interfacing. Current time and temperature are announced using synthesized speech which allows device usage by visually impaired people.</dd></dl>
<dl class="section user"><dt>Target device</dt><dd>CY8C4A45LQI-483</dd></dl>
<dl class="section user"><dt>Related hardware</dt><dd>CY8CKIT-048</dd></dl>
<dl class="section user"><dt>Code Tested With</dt><dd><ol type="1">
<li>Silicon: PSoC Analog Coprocessor</li>
<li>IDE: PSoC Creator 4.0 Update 1 (4.0.0.432)</li>
<li>Compiler: GCC 4.9.3, ARM MDK 4.54.0.0 (armcc 4.1 b894)</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Notes</dt><dd>For exact time measurement it is necessary to perform hardware modification of CY8CKIT-048 developer kit. This modification enables use of kit WCO. Correct WCO operation is enabled by moving zero ohm resistor R149 to position R138 and zero ohm resistor R150 to position R30. For evaluation purposes it is possible to use kit as-is, using ILO as LFCLK source, but timekeeping function will be inaccurate. Please see project documentation for details. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&sect;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Application entry point. </p>
<dl class="section user"><dt>Summary</dt><dd>This is the main entry point for this application.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a7ef6f572be0d7fc6cef3996442d3f41e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ef6f572be0d7fc6cef3996442d3f41e">&sect;&nbsp;</a></span>uart_edit_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void uart_edit_time </td>
          <td>(</td>
          <td class="paramtype">RTC_DATE_TIME&#160;</td>
          <td class="paramname"><em>dateTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interactive RTC time editor using UART. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Summary</dt><dd>Interactive editor for configuring current RTC time setting via UART. </dd></dl>

</div>
</div>
<a id="aebb05e94a4106037472adc26dec9fc1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebb05e94a4106037472adc26dec9fc1d">&sect;&nbsp;</a></span>uart_output_temperature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void uart_output_temperature </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>temperature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output current temperature to UART. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Summary</dt><dd>Outputs current temperature to UART. </dd></dl>

</div>
</div>
<a id="a81fe64b262200badbc8b395e6aea32b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81fe64b262200badbc8b395e6aea32b4">&sect;&nbsp;</a></span>uart_output_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void uart_output_time </td>
          <td>(</td>
          <td class="paramtype">RTC_DATE_TIME&#160;</td>
          <td class="paramname"><em>dateTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output current RTC time to UART. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Summary</dt><dd>Outputs current RTC time to UART. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
